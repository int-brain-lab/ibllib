

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Setting up Datajoint credentials &mdash; IBL Library  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/style.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Exploring the IBL Data Pipeline" href="../notebooks/dj_basics/dj_basics.html" />
    <link rel="prev" title="Introduction to Datajoint" href="dj_introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> IBL Library
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../01_overview.html">IBL data structure</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../02_installation.html">Installation</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../03_one.html">ONE</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../04_datajoint.html">Datajoint</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="dj_introduction.html">Introduction to Datajoint</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Setting up Datajoint credentials</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuring-the-database-host">Configuring the database host</a></li>
<li class="toctree-l3"><a class="reference internal" href="#saving-username-and-password">Saving username and password</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dj_basics/dj_basics.html">Exploring the IBL Data Pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="../notebooks/dj_intro/dj_intro.html">Datajoint Introductory Tutorial</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../05_tutorials.html">Tutorials</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../06_recipes.html">Examples</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../07_developers.html">Python Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IBL Library</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../04_datajoint.html">Datajoint</a> &raquo;</li>
        
      <li>Setting up Datajoint credentials</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/dj_docs/dj_credentials.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="setting-up-datajoint-credentials">
<h1>Setting up Datajoint credentials<a class="headerlink" href="#setting-up-datajoint-credentials" title="Permalink to this headline">¶</a></h1>
<p>Before you can start using Datajoint with IBL data on your local computer, you will need to configure some Datajoint
credentials. We need to specify a database connection to tell Datajoint where to look for IBl data as well as grant
access by providing a username and password.</p>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>To set up credentials you will need access to your Datajoint username and password. If you do not have access to these,
please get in contact with a member of the IBL software team.</p>
</div>
<div class="section" id="configuring-the-database-host">
<h2>Configuring the database host<a class="headerlink" href="#configuring-the-database-host" title="Permalink to this headline">¶</a></h2>
<p>Start by importing Datajoint and printing out the current configuration settings.</p>
<p>In a python terminal (<a class="reference internal" href="../02_installation.html"><span class="doc std std-doc">with your ibl environment activated</span></a>), type:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datajoint</span> <span class="k">as</span> <span class="nn">dj</span>
<span class="n">dj</span><span class="o">.</span><span class="n">config</span>
</pre></div>
</div>
<p>The database connection is specified by the key <code class="docutils literal notranslate"><span class="pre">database.host</span></code>. You may find that this is already set to
<code class="docutils literal notranslate"><span class="pre">datajoint.internationalbrainlab.org</span></code>. If it is not, we can manually change it by typing,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dj</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;database.host&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;datajoint.internationalbrainlab.org&#39;</span>
<span class="n">dj</span><span class="o">.</span><span class="n">config</span>
</pre></div>
</div>
<p>Now we are pointing to the correct database, let’s try connecting. You can explicitly trigger a connection using
<code class="docutils literal notranslate"><span class="pre">dj.conn()</span></code>. You will be prompted to enter a username and password.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dj</span><span class="o">.</span><span class="n">conn</span><span class="p">()</span>
</pre></div>
</div>
<p>Once you verify that the connection is working, it is useful to save the configuration so that you don’t have to keep on
changing the <code class="docutils literal notranslate"><span class="pre">database.host</span></code> every time you work with DataJoint. Simply run the following command to save the
configuration,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dj</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">save_local</span><span class="p">()</span>
</pre></div>
</div>
<p>This will have created a JSON configuration file <code class="docutils literal notranslate"><span class="pre">dj_local_config</span></code> in your local directory. Check that this has been
created and that the content matches the following</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;database.host&quot;</span><span class="p">:</span> <span class="s2">&quot;datajoint.internationalbrainlab.org&quot;</span><span class="p">,</span>
    <span class="s2">&quot;database.password&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;database.user&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;database.port&quot;</span><span class="p">:</span> <span class="mi">3306</span><span class="p">,</span>
    <span class="s2">&quot;database.reconnect&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;connection.init_function&quot;</span><span class="p">:</span> <span class="n">null</span><span class="p">,</span>
    <span class="s2">&quot;connection.charset&quot;</span><span class="p">:</span> <span class="s2">&quot;&quot;</span><span class="p">,</span>
    <span class="s2">&quot;loglevel&quot;</span><span class="p">:</span> <span class="s2">&quot;INFO&quot;</span><span class="p">,</span>
    <span class="s2">&quot;safemode&quot;</span><span class="p">:</span> <span class="n">true</span><span class="p">,</span>
    <span class="s2">&quot;fetch_format&quot;</span><span class="p">:</span> <span class="s2">&quot;array&quot;</span><span class="p">,</span>
    <span class="s2">&quot;display.limit&quot;</span><span class="p">:</span> <span class="mi">12</span><span class="p">,</span>
    <span class="s2">&quot;display.width&quot;</span><span class="p">:</span> <span class="mi">14</span><span class="p">,</span>
    <span class="s2">&quot;display.show_tuple_count&quot;</span><span class="p">:</span> <span class="n">true</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Notice how the <code class="docutils literal notranslate"><span class="pre">database.host</span></code> is set to the correct value.</p>
</div>
<div class="section" id="saving-username-and-password">
<h2>Saving username and password<a class="headerlink" href="#saving-username-and-password" title="Permalink to this headline">¶</a></h2>
<p>Although you now don’t have to keep on specifying <code class="docutils literal notranslate"><span class="pre">database.host</span></code> inside <code class="docutils literal notranslate"><span class="pre">dj.config</span></code> every time DataJoint tries to
connect to the database, it will prompt you for your username and password. This may be fine when working interactively,
however, it can be rather limiting when you want a script to run without interaction. To get around this, you can also
save your username and password in a similar way.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">getpass</span> <span class="kn">import</span> <span class="n">getpass</span> <span class="c1"># use this to enter your password without displaying it in the terminal</span>
<span class="n">dj</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;database.user&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;dj_username&#39;</span> <span class="c1"># Type in your dj username</span>
<span class="n">dj</span><span class="o">.</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;database.password&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">getpass</span><span class="p">(</span><span class="s1">&#39;Type password:&#39;</span><span class="p">)</span> <span class="c1"># Type in your dj password</span>
</pre></div>
</div>
<p>Let’s confirm the username and password have been correctly configured,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dj</span><span class="o">.</span><span class="n">conn</span><span class="p">()</span>
</pre></div>
</div>
<p>You should find that Datajoint automatically connects to the database! Finally, let’s make sure we save these
credentials into the local config file by typing,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dj</span><span class="o">.</span><span class="n">config</span><span class="o">.</span><span class="n">save_local</span><span class="p">()</span>
</pre></div>
</div>
<p>Now that these credentials have been configured, every time you type <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">datajoint</span> <span class="pre">as</span> <span class="pre">dj</span></code> it will automatically
connect to the correct database and log you in. Let’s go to the next session, to get started with using Datajoint with
IBL data.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../notebooks/dj_basics/dj_basics.html" class="btn btn-neutral float-right" title="Exploring the IBL Data Pipeline" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="dj_introduction.html" class="btn btn-neutral float-left" title="Introduction to Datajoint" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, International Brain Laboratory

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>